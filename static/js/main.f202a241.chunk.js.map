{"version":3,"sources":["assets/sofa.png","store/productStore.ts","components/Card/Card.tsx","components/Card/BlankCard.tsx","components/Loader/Loader.tsx","components/CardContainer/CardContainer.tsx","components/MainLayout/MainLayout.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["sleep","ms","Promise","resolve","setTimeout","_productsWithPages","id","photo","SofaImg","name","rating","price","color","material","size","mechanism","merchant","isLiked","inBasket","makeAutoObservable","this","observable","action","page","a","isLoading","runInAction","allProducts","push","map","product","Card","setProductLiked","ProductStore","setProductUnliked","setProductToCart","removeProductFromCart","Math","floor","RatingBlock","i","className","src","alt","toLocaleString","href","onClick","BlankCard","Loader","observer","ProductsStore","loadProducts","containerRef","useRef","useState","isScrollFetching","setIsScrollFetching","useEffect","length","document","addEventListener","handleScroll","removeEventListener","event","current","target","documentElement","scrollLeft","window","innerWidth","scrollWidth","productBlock","ref","MainLayout","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f202a241.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/sofa.15e75bd3.png\";","import {action, makeAutoObservable, observable, runInAction} from \"mobx\";\nimport {IProduct} from \"../types/types\";\nimport SofaImg from  '../assets/sofa.png'\n\n\nconst sleep = (ms: number) => new Promise((resolve => setTimeout(resolve, ms)))\n\nclass ProductsStore {\n\n  @observable page: number = 0\n  _productsWithPages: Array<Array<IProduct>> = [\n    [\n      {\n        id: 1,\n        photo: SofaImg,\n        name: 'Тумба прикроватная',\n        rating: 5,\n        price: 56723,\n        color: 'Черный',\n        material: 'Ткань',\n        size: 'ш.349 Х в.234 Х г.323',\n        mechanism: 'Французская раскладушка',\n        merchant: 'Laska Family',\n        isLiked: false,\n        inBasket: false\n      },\n      {\n        id: 2,\n        photo: SofaImg,\n        name: 'Тумба прикроватная Rubus с двумя ящиками',\n        rating: 4,\n        price: 56723,\n        color: 'Черный',\n        material: 'Ткань',\n        size: 'ш.349 Х в.234 Х г.323',\n        mechanism: 'Французская раскладушка',\n        merchant: 'Laska Family',\n        isLiked: false,\n        inBasket: false\n      },\n      {\n        id: 3,\n        photo: SofaImg,\n        name: 'Тумба прикроватная Rubus с двумя ящиками',\n        rating: 3,\n        price: 56723,\n        color: 'Черный',\n        material: 'Ткань',\n        size: 'ш.349 Х в.234 Х г.323',\n        mechanism: 'Французская раскладушка',\n        merchant: 'Laska Family',\n        isLiked: false,\n        inBasket: false\n      },\n      {\n        id: 4,\n        photo: SofaImg,\n        name: 'Тумба прикроватная Rubus с двумя ящиками',\n        rating: 4,\n        price: 56723,\n        color: 'Черный',\n        material: 'Ткань',\n        size: 'ш.349 Х в.234 Х г.323',\n        mechanism: 'Французская раскладушка',\n        merchant: 'Laska Family',\n        isLiked: false,\n        inBasket: false\n      },\n      {\n        id: 5,\n        photo: SofaImg,\n        name: 'Тумба прикроватная Rubus с двумя ящиками',\n        rating: 2,\n        price: 56723,\n        color: 'Черный',\n        material: 'Ткань',\n        size: 'ш.349 Х в.234 Х г.323',\n        mechanism: 'Французская раскладушка',\n        merchant: 'Laska Family',\n        isLiked: false,\n        inBasket: false\n      },\n      {\n        id: 6,\n        photo: SofaImg,\n        name: 'Тумба прикроватная Rubus с двумя ящиками',\n        rating: 5,\n        price: 56723,\n        color: 'Черный',\n        material: 'Ткань',\n        size: 'ш.349 Х в.234 Х г.323',\n        mechanism: 'Французская раскладушка',\n        merchant: 'Laska Family',\n        isLiked: false,\n        inBasket: false\n      },\n      {\n        id: 7,\n        photo: SofaImg,\n        name: 'Тумба прикроватная Rubus с двумя ящиками',\n        rating: 5,\n        price: 56723,\n        color: 'Черный',\n        material: 'Ткань',\n        size: 'ш.349 Х в.234 Х г.323',\n        mechanism: 'Французская раскладушка',\n        merchant: 'Laska Family',\n        isLiked: false,\n        inBasket: false\n      },\n      {\n        id: 8,\n        photo: SofaImg,\n        name: 'Тумба прикроватная Rubus с двумя ящиками',\n        rating: 5,\n        price: 56723,\n        color: 'Черный',\n        material: 'Ткань',\n        size: 'ш.349 Х в.234 Х г.323',\n        mechanism: 'Французская раскладушка',\n        merchant: 'Laska Family',\n        isLiked: false,\n        inBasket: false\n      },\n      {\n        id: 9,\n        photo: SofaImg,\n        name: 'Тумба прикроватная Rubus с двумя ящиками',\n        rating: 5,\n        price: 56723,\n        color: 'Черный',\n        material: 'Ткань',\n        size: 'ш.349 Х в.234 Х г.323',\n        mechanism: 'Французская раскладушка',\n        merchant: 'Laska Family',\n        isLiked: false,\n        inBasket: false\n      },\n    ],\n    [\n      {\n        id: 10,\n        photo: SofaImg,\n        name: 'Тумба прикроватная Rubus с двумя ящиками',\n        rating: 5,\n        price: 56723,\n        color: 'Черный',\n        material: 'Ткань',\n        size: 'ш.349 Х в.234 Х г.323',\n        mechanism: 'Французская раскладушка',\n        merchant: 'Laska Family',\n        isLiked: false,\n        inBasket: false\n      },\n      {\n        id: 11,\n        photo: SofaImg,\n        name: 'Тумба прикроватная Rubus с двумя ящиками',\n        rating: 5,\n        price: 56723,\n        color: 'Черный',\n        material: 'Ткань',\n        size: 'ш.349 Х в.234 Х г.323',\n        mechanism: 'Французская раскладушка',\n        merchant: 'Laska Family',\n        isLiked: false,\n        inBasket: false\n      },\n      {\n        id: 12,\n        photo: SofaImg,\n        name: 'Тумба прикроватная Rubus с двумя ящиками',\n        rating: 5,\n        price: 56723,\n        color: 'Черный',\n        material: 'Ткань',\n        size: 'ш.349 Х в.234 Х г.323',\n        mechanism: 'Французская раскладушка',\n        merchant: 'Garda',\n        isLiked: false,\n        inBasket: false\n      },\n    ]\n  ]\n\n  @observable allProducts: Array<IProduct> = []\n  @observable isLoading: boolean = false\n\n  constructor() {\n    makeAutoObservable(this)\n  }\n\n  @action\n  loadProducts = async (page: number) => {\n    this.page = page\n    this.isLoading = true\n    await sleep(3000)\n    runInAction(() => {\n      this.allProducts.push(...this._productsWithPages[this.page])\n      this.isLoading = false\n    })\n  }\n\n  @action\n  setProductLiked = (id: number) => {\n    this.allProducts = this.allProducts.map((product) => {\n      if (product.id === id) {\n        product.isLiked = true\n        return product\n      }\n      return product\n    })\n  }\n\n  @action\n  setProductUnliked = (id: number) => {\n    this.allProducts = this.allProducts.map((product) => {\n      if (product.id === id) {\n        product.isLiked = false\n        return product\n      }\n      return product\n    })\n  }\n\n  @action\n  setProductToCart = (id: number) => {\n    this.allProducts = this.allProducts.map((product) => {\n      if (product.id === id) {\n        product.inBasket = true\n        return product\n      }\n      return product\n    })\n  }\n\n  @action\n  removeProductFromCart = (id: number) => {\n    this.allProducts = this.allProducts.map((product) => {\n      if (product.id === id) {\n        product.inBasket = false\n        return product\n      }\n      return product\n    })\n  }\n\n}\n\nexport default new ProductsStore()\n","import React from 'react';\nimport SofaImg from  '../../assets/sofa.png'\nimport './Card.scss'\nimport {IProduct} from \"../../types/types\";\nimport ProductStore from '../../store/productStore'\n\ntype Props = {\n  product: IProduct\n}\n\nconst Card:React.FC<Props> = ({product}) => {\n\n  const {setProductLiked, setProductUnliked, setProductToCart, removeProductFromCart} = ProductStore\n\n  const rating = Math.floor(product.rating)\n  let RatingBlock: Array<JSX.Element> = []\n\n  for (let i = 0; i < rating; i++) {\n    RatingBlock.push(<i className=\"fas fa-star\" />)\n  }\n\n  const onBuy = () => {\n    setProductToCart(product.id)\n  }\n\n  const onRemoveFromCart = () => {\n    removeProductFromCart(product.id)\n  }\n\n  const onLike = () => {\n    setProductLiked(product.id)\n  }\n\n  const onUnlike = () => {\n    setProductUnliked(product.id)\n  }\n\n  return (\n    <div className={'card'}>\n      <div className=\"card__image\">\n        <img src={product.photo} alt=\"product\"/>\n      </div>\n      <div className=\"card__title\">\n        {product.name}\n      </div>\n      <div className=\"card__content\">\n        <div className=\"card__content__cell rating gray\">\n          {RatingBlock}\n        </div>\n        <div className=\"card__content__cell\">\n          {product.price.toLocaleString('ru-RU')} ₽\n        </div>\n        <div className=\"card__content__cell gray\">\n          {product.color}\n        </div>\n        <div className=\"card__content__cell\">\n          {product.material}\n        </div>\n        <div className=\"card__content__cell gray\">\n          {product.size}\n        </div>\n        <div className=\"card__content__cell\">\n          <span className={'fadeout'}>{product.mechanism}</span>\n        </div>\n        <div className=\"card__content__cell gray\">\n          <a href=\"#\">{product.merchant}</a>\n        </div>\n      </div>\n      <div className=\"card__buttons\">\n        {!product.isLiked ? (\n          <div className=\"card__buttons-like\" onClick={onLike}>\n            <i className=\"far fa-heart\" />\n          </div>\n        ) : (\n          <div className=\"card__buttons-like\" onClick={onUnlike}>\n            <i className=\"fas fa-heart-broken\" />\n          </div>\n        )}\n        {!product.inBasket ? (\n          <div className=\"card__buttons-buy\" onClick={onBuy}>\n            <i className=\"fas fa-shopping-cart\"/>\n            Купить\n          </div>\n        ) : (\n          <div className=\"card__buttons-buy\" onClick={onRemoveFromCart}>\n            <i className=\"fas fa-trash-alt\"/>\n            Удалить\n          </div>\n        )}\n\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\nimport './Card.scss'\nimport Card from \"./Card\";\nimport SofaImg from \"../../assets/sofa.png\";\n\nconst BlankCard: React.FC = () => {\n  return (\n    <div className={'card'}>\n      <div className=\"card__content blank\">\n        <div className=\"card__content__cell gray\">\n          Рейтинг\n        </div>\n        <div className=\"card__content__cell\">\n          Цена\n        </div>\n        <div className=\"card__content__cell gray\">\n          Цвет\n        </div>\n        <div className=\"card__content__cell\">\n          Материал\n        </div>\n        <div className=\"card__content__cell gray\">\n          Размеры\n        </div>\n        <div className=\"card__content__cell\">\n          Механизм\n        </div>\n        <div className=\"card__content__cell gray\">\n          Продавец\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BlankCard;\n","import React from 'react';\nimport './Loader.scss'\n\nconst Loader: React.FC = () => {\n  return (\n    <div className={'loader'}>\n      <div className=\"loadingio-spinner-reload-c9o2cb5q54b\">\n        <div className=\"ldio-txp7nii8wut\">\n          <div>\n            <div/>\n            <div/>\n            <div/>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, {useEffect, useRef, useState} from 'react';\nimport Card from \"../Card/Card\";\nimport BlankCard from \"../Card/BlankCard\";\nimport './CardContainer.scss'\nimport {observer} from \"mobx-react-lite\";\nimport ProductsStore from '../../store/productStore'\nimport Loader from \"../Loader/Loader\";\n\nconst CardContainer:React.FC = () => {\n\n  const {page, allProducts, loadProducts, isLoading, _productsWithPages} = ProductsStore\n  const containerRef = useRef<HTMLDivElement>(null)\n  const [isScrollFetching, setIsScrollFetching] = useState(false)\n\n\n  useEffect(() => {\n    loadProducts(page)\n  }, [])\n\n  useEffect(() => {\n    setIsScrollFetching(false)\n  }, [isScrollFetching])\n\n  useEffect(() => {\n    if (isScrollFetching && !isLoading) {\n      if (_productsWithPages.length > page + 1) {\n        setIsScrollFetching(false)\n        loadProducts(page + 1)\n      }\n    }\n  }, [isScrollFetching])\n\n\n  useEffect(() => {\n    document.addEventListener(\"scroll\", handleScroll)\n    return () => {\n      document.removeEventListener(\"scroll\", handleScroll)\n    }\n  }, [])\n\n  const handleScroll = (event: any) => {\n    if (containerRef.current !== null) {\n      if ((event.target.documentElement.scrollLeft + window.innerWidth > containerRef.current.scrollWidth - 200) && !isScrollFetching && !isLoading) {\n        setIsScrollFetching(true)\n      }\n    }\n  }\n\n  const productBlock = allProducts.map((product,) => {\n    return <Card key={product.id} product={product} />\n  })\n\n  return (\n    <div className={'cardContainer'} ref={containerRef}>\n      <BlankCard />\n      {productBlock}\n      {isLoading && <Loader />}\n    </div>\n  );\n};\n\nexport default observer(CardContainer);\n","import React from 'react';\nimport Card from \"../Card/Card\";\nimport CardContainer from \"../CardContainer/CardContainer\";\n\nconst MainLayout:React.FC = () => {\n  return (\n    <div>\n      <header>\n\n      </header>\n      <main>\n        <CardContainer />\n      </main>\n      <footer>\n\n      </footer>\n    </div>\n  );\n};\n\nexport default MainLayout;\n","import React from 'react';\nimport './App.css';\nimport MainLayout from \"./components/MainLayout/MainLayout\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <MainLayout />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}